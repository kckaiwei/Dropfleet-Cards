<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dropfleet Commander Command Cards</title>
<style>
    #hand {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 20px;
    }
    .card {
        width: 100px;
        height: 150px;
        background-color: lightgray;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
    }
</style>
</head>

<script>
        // Define an array of cards

        let scourgeFilename = "/Dropfleet-Cards/Scourge_Command_Cards_Print_At_Home/Scourge_Command_Cards_Print_At_Home-";
        let phrFilename = "/Dropfleet-Cards/PHR_Command_Cards/PHR_Command_Cards-";
        let scourgeArray = [];
        let phrArray = [];
        for (let i = 1; i <= 57; i++) {
            const sfilename = scourgeFilename + (i < 10 ? '0' + i : i) + ".jpg";
            const pfilename = phrFilename + (i < 10 ? '0' + i : i) + ".jpg";
            scourgeArray.push(sfilename);
            phrArray.push(pfilename);
        }

        let cards = scourgeArray;
        let hand = [];
        const selectElement = document.createElement("faction-select");

        const options = ['Scourge', 'PHR'];
    options.forEach(optionText => {
        const option = document.createElement('option');
        option.textContent = optionText;
        selectElement.appendChild(option);
    });

        selectElement.addEventListener('change', function(event) {
            const selectedOption = event.target.value;
            console.log('Selected option:', selectedOption);
            if (selectedOption == "Scourge") {
                cards = scourgeArray;
            } else if (selectedOption == "PHR") {
                cards = phrArray;
            }
            console.log(cards)
        });

        // Function to draw a random card and add it to the hand
        function drawCard() {
            const randomIndex = Math.floor(Math.random() * cards.length);
            const card = cards[randomIndex];
            hand.push(card);
            cards.pop(card);
            console.log(hand)
            displayHand();
        }

        // Function to display the hand
        function displayHand() {
            const handElement = document.getElementById('hand');
            let count = 0;
            handElement.innerHTML = '';
            hand.forEach(card => {
                const cardElement = document.createElement('div');
                let img = document.createElement("img");
                let discardButton = document.createElement('button');
                discardButton.textContent = "Discard";
                discardButton.addEventListener('click', function() {
                    discardCard(card);
                });
                img.src = card
                cardElement.appendChild(img)
                cardElement.appendChild(discardButton);
                handElement.appendChild(cardElement);
            });
        }

        // Function to discard a card from the hand
        function discardCard(cardName) {
            if (hand.length === 0) {
                alert("Hand is empty!");
                return;
            }
            hand = hand.filter(item => item !== cardName);
            displayHand();
        }
</script>
    
<body>
    <h1>Card Game</h1>
    <select id="faction-select">Faction
      <option value="scourge">Scourge</option>
      <option value="phr">PHR</option>
    </select>
    <button onclick="drawCard()">Draw Card</button>
    <div id="hand"></div>


</body>
</html>
